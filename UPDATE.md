# 历史更新

## 1.1.60X
1. 修复在拍摄界面中的横向图片列表中，快速连续(300毫秒以内)的删除多个图片会导致闪退问题

## 1.1.59X
1. 修复因为layout名字一样引起的一些闪退问题，现在都加了zjh以示区别

## 1.1.58X
1. 修复拍照界面拍照多张图片的时候，打开第一张图片，如果滑到第二张并且进行编辑后会导致乱序的问题。（感谢 @lacker159 修复并推送）

## 1.1.57X
1. 增加通过keyCode控制拍照
2. 优化部分kotlin代码

## 1.1.56X
1. 修复 在相册界面选择某图片并且点击该图片编辑后，点击确认显示的是原图而不是编辑后的图片bug

## 1.1.55X
1. 修复九宫预览界面打开的详情界面禁止编辑

## 1.1.54X
1. 优化编辑后的图片的压缩(即使不开启压缩，编辑也自带压缩功能)计算（之前编辑过于压缩质量，目前压缩计算基于当前屏幕大小密度等等）
2. 如果关闭了压缩图片功能，预览图片后编辑会导致返回的图片是缓存处的图片，并且宽高不一致。修复了该功能

## 1.1.53X
修复获取不到真实地址path的问题，同时满足下面条件就会出现该问题
1. 没有设置该事件setOnSelectedListener 或者 没有开启压缩
2. 在相册处点击预览后然后点击确定

## 1.1.49X
- 增加高清拍摄图片配置
- 增加高清录像配置
- 修复录像后提供的宽高数值显示有误
- 修复编辑图片后没有修改图片确认后导致宽高的数值被覆盖成0

## 1.1.48X
 - 修复默认样式下，预览视频有错误的顶部栏

## 1.1.47X

增加：
 - 相册和相册预览界面都增加压缩图片、压缩视频和loading动画等
 - 选择后的数据增加相册id字段

修复：
 - 修复设置了分段录制，然后拍摄多图时多次点击导致闪退的问题
 - 修复九宫展示数据频繁多次点击导致删除多次同个数据的问题
 - 录制视频的创建时间报错，迁移到拍照创建时间
 - 修复合并多个视频并且数据庞大的时候导致播放失败的问题
 - 回滚图片版本，修复图廊模式下偶尔情况滑动不了的问题

优化：
 - 优化异步线程销毁防止内存泄漏
 - 优化确认图片时，也可以停止过程
 - 优化所有有关异步线程有可能造成内存泄漏的问题
 - 视频功能设置区分视频编辑、视频压缩的区别
 - 优化合成视频打开预览视频界面后，关闭预览界面后依然可以重新合成
 - 优化九宫展示的删除图标变的易点击
 - 优化九宫展示数据，视频类型增加时长，gif图增加gif标记

Demo：
 - 修改demo代码少了一个配置导致直接预览图片闪退

## 1.1.46X
 - 修复横向情况下的特殊情况引起的ui问题

## 1.1.45X
 - 优化回调数据为LocalFile，里面带有更多别的参数
 - 增加自身回调方法：mGlobalSetting.forResult()
 - 回调地址统一优化

## 1.1.44X
 - 修复因为优化横板ui导致的问题

## 1.1.43X
 - 优化横屏下的ui
 - 优化如果没有录音、录像功能，则不会申请录音权限

## 1.1.42X
 - 修复分段录制失败的问题

## 1.1.41X
 - 增加可配置闪光灯的默认模式
 - 增加可配置开启闪光灯记忆模式，在界面结束时，会自动记录当前模式，下次再打开时，依然是这个模式
 - 修复编辑图片界面的横竖向转换配置不生效的问题
 - 优化横竖向转换中的体验问题

## 1.1.40X
 - 增加修改横竖屏配置
 - 修复多图删除到无图时，底部恢复菜单
 - 修复编辑图片后，取消编辑会导致错误图片显示的问题

## 1.1.37X
 - 修复长按录制模式时，时间到了并没有弹出播放的页面的bug

## 1.1.36X
 - 修复图片编辑后不生效的问题

## 1.1.35X
 - 修复录制视频中点击右上角关闭时出现bug的问题
 - 修复纯图片模式（录制和录音都为0）的情况下拍照没反应的问题

## 1.1.34X
 - 修改录制时间结束后自动录制结束
 - 修改录制中对返回键、返回home键等处理
 - 修改录制视频后返回录制界面的一些状态调整
 - 修复不压缩导致闪退的问题
 - 添加可以中断合成视频功能
 - 增加点击即可录制视频配置（开启该配置则会舍弃点击拍摄图片功能）
这个版本基本把有关状态转变的功能翻篇了，因为随着功能的添加，代码变得笨重了起来，这次翻篇代码主要是用上了状态模式，方便以后更好的扩展维护

## 1.1.33X
 - 修改编辑全屏图片时，顶部增加间距

## 1.1.32X
 - 修复单图配置时，拍摄后然后删除后引起的一系列问题

## 1.1.30X
 - 修复禁止拍照功能偶尔失效的问题
 - 修复禁止录像功能偶尔失效的问题
 - 优化九宫最大数据的逻辑
 - 优化分段录制如果短时间导致录制失败的问题
 - 完善录制时一些等待提示的细节
 - 完善九宫展示整体逻辑
 - 修复支持分段录制情况下，如果录制视频满了，便不显示分段录制功能
 - 修复setVideoCover如果是uri的问题
 - 修复OnSelectedListener失效的问题
 - 调整如果九宫打开的预览界面是个url并未下载到本地，则直接以url形式播放
 - 修复如果没初始化公共设置，九宫预览打开界面时进行删除却失效的问题
 - 优化拍摄界面的显示多图
 - 修改拍摄界面的横行预览图片为Recyclerview

## 1.1.29X
 - 九宫展示数据增加动画
 - 优化初次加载九宫展示界面的速度
 - 修复某些低版本机器没有加入相册库的问题
 - 修复偶尔闪退的问题
 - 统一缓存逻辑，在拍摄、录制、录音中产生的文件会默认在cache文件夹中，当确认后，才将cache文件转移并且进行压缩到配置的正式目录
 - AlbumCameraRecorderApi增加获取缓存文件大小和删除缓存方法
 - 增加图片、视频压缩功能

## 1.1.27X
 - 独立出imagezoom，防止库冲突
 - 修改状态栏的更多兼容性
 - 单图配置拍摄的时候，现在单图可以双指控制图片大小了

## 1.1.26X
 - 修复跨库使用颜色的问题

## 1.1.25X
 - 优化请求权限代码、逻辑

## 1.1.24X
 - 修复切换相册的时候导致图片空白的问题

## 1.1.23X
 - 简化代码
 - 添加自带权限请求等逻辑(上述两点可看Demo中的MainSuperSimpleActivity示例)
 - 基于以上两点，添加combined包

## 1.1.22X
 - 修改lib体积大小

## 1.1.21X
 - 修复横向拍照、录制后照成显示的问题（原资源是一直没问题的）
 - 修复九宫展示无法播放视频的问题
 - 去掉demo中无用的权限

## 1.1.20X
 - 修复横向拍照、录制后照成显示的问题（原资源是一直没问题的）
 - 修复九宫展示无法播放视频的问题
 - 去掉demo中无用的权限

## 1.1.19X
 - 添加cameraSetting清空事件

## 1.1.18X
 -  CameraSetting增加了一个setOnCameraViewListenerApi方法，可以在回调中自定义CameraView相关设置。
    具体设置请看它的相关源码网站https://github.com/natario1/CameraView

## 1.1.17X
 - 修复九宫预览数据某些情况导致显示错误问题
 - 优化九宫预览初次显示大量数据时卡顿的问题

## 1.1.16X
 - 修复因为加入多视频、多语音引起的初始化九宫展览数据问题
 - 修复相册选择多张图片后，预览中点击编辑其中一个图片后，返回，滑动到另一张图片出现闪退的问题
 - 修复相册选择多张图片后，预览中点击编辑其中一个图片后，点击确认出现闪退的问题
 - 修复音频暂停又播放引起闪退的问题

## 1.1.15X
 - 修改华为部分机型视频功能录制后看不到录制后的文件问题

## 1.1.14X
 - 九宫格展示增加每行可设置多少列
 - 九宫格展示可设置列与列之间间隔

## 1.1.01X
 - 修复单个图片设置编辑第二次失效的问题
 - 修复单个图片设置铺满屏幕设置

## 1.1.00X
 - 修复语音播放时，需要点击两次的问题
 - 增加防止抖动（不小心快速多次点击显示多个界面）
 - 增加公共最大值配置,现在可以自由搭配图片上限、视频上限、音频上限，更多例子可以参考demo注释
 - 九宫展示数据也跟着增加公共最大配置

## 1.0.37X
 - 修复拍摄界面和录制音频界面状态栏挡住操作按钮的问题
 - 优化拍摄录像

## 1.0.36X
 - 修复Android 11的情况下，状态栏不显示的问题

## 1.0.35X
 - 修复因为编辑视频事件引起的内存泄漏问题

## 1.0.34X
 - 修改单图片配置预览的时候不全屏的问题
 - 修改单图片配置拍照的时候闪烁的问题
 - 修改单图片非编辑图片配置的时候，拍摄后依然可以继续拍摄的问题

## 1.0.33X
 - 修复配置只拍一张图片的时候，背景透明的bug

## 1.0.32X
 - 修复Android 10兼容状态栏导致闪退的问题
 - 修复编辑图片的中英文支持

## 1.0.31X
 - 修复九宫格计算宽度时没有计算间距的问题有可能导致后面数据不显示问题

## 1.0.30X
 - 修复 配置同时能选择图片和录像 不生效的问题
 - 修改演示代码如何同时显示视频和图片
 - 根据阿里巴巴规范优化代码

## 1.0.29X
 - 优化平板大屏幕下的tab菜单UI
 - 优化某些屏幕录制界面的按钮UI问题
 - 根据阿里巴巴代码规范优化代码

## 1.0.28X
 - 修复因为动画原因导致部分环境下闪退

## 1.0.27X
 - 修改拍照时仍然显示分段录制按钮的问题

## 1.0.26X
 - 修改录制界面出的《取消》、《提交》两个按钮的样式，如有需要，以后可增加提供修改图片颜色等样式的api
 - 增加分段录制功能，需要引入该库
   api 'com.github.zhongjhATC.AlbumCameraRecorder:videoedit:1.0.26X'
   然后在代码上启动该配置cameraSetting.videoEdit(new VideoEditManager())，即可在录制界面处看到一个切换分段录制模式的按钮
   后续会增加有关视频编辑功能
 - 修复低版本录制视频返回的uri兼容问题

## 1.0.25X
 - 优化所有界面的全屏显示UI
 - 添加编辑图片功能！可以通过配置来进行开关
 - 修复视频录制短时会闪退的bug
 - 修复九宫格在临界值宽度的时候没有自动换行的问题
 - 兼容AndroidQ，需要添加文件的添加时间
 - 兼容AndroidQ的视频
 - 增加拍照界面的取消操作删除图片、视频，减少文件冗余
 - 修复录音不停快速停止而引起奔溃的问题

## 1.0.22X
 - 优化并且统一所有界面全屏显示方式

## 1.0.21X
 - 兼容Android 30版本
 - 修改Android 29以上的版本文件配置都是私有的，公有或者私有配置无效
 - 修复demo部分代码演示错误的问题
 - 现在返回的数据源同时支持uri和path了
 - prodgresslibrary增加addUrisStartUpload方法。主要是修复Android Q以后,有关progresslibrary不能显示的问题，因为progresslibrary以前只支持path形式，现在也支持uri形式了
 - 修复只有一个模式的时候，底部依然显示间距的问题


## 1.0.18X
 - 现在拍摄图片和录制视频确认后，会更新Android图库。
 - 更新一些注释更加易于理解。

## 1.0.17X
 - 该版本是基于AndroidX版本开发的分支。版本号后面带着X的都是属于基于AndroidX版本开发。

## 1.0.15
 - 纯浏览图片功能增加了支持path方式。
 - 这方面浏览功能考虑以后增加共享过渡动画(这个动画其实另外一个demo已经做了很久了，但是前段时间发现了内存泄漏，即使翻墙查询相关解决方法也解决不了，希望有研究过的大牛帮忙解答下：https://github.com/googlesamples/android-unsplash/issues/12)。
 - 增加了内存泄漏检测，有相关内存泄漏的可以提供，会抓紧时间解决。

## 1.0.13
 - 完善app演示項目，抽出父类使之更加简洁，并且增加了style定制的demo。
 - 录制界面的按钮样式增加可配置。
 - 音频增加长按短按时间配置。
 - 修复默认配置不起效引起的问题。
 - 再次优化录制界面的过渡动画，现在延迟大概1秒才展示界面。

## 1.0.12
 - 修改独立预览的功能，关闭有关操作的功能。

## 1.0.11
 - 独立预览图片界面，使之预览也可以独立使用
 - 同时预览界面也受动画启动配置影响
 - 优化录制界面的过渡动画，使之更自然
 - 优化演示demo，使之更加简单明了，具体可运行观看

## 1.0.8
 - 返回数据时候，标记添加多一种数据。标识是选择的还是录制的

## 1.0.7
 - 当只需要操作一项功能时候（例如只录音，或者只录制），底部的tab隐藏
 - 现在默认有打开过渡动画（从下往上），关闭过渡动画（从上往下）。可通过配置关闭这些过渡动画，如有需要，后期可添加自定义动画。
 - 修正底部突兀变形的瑕疵细节。
 - 现在可以配置默认显示哪个界面了。

## 1.0.6
 - 公共包common的MimeType由entity包迁移至enums
 - 修正播放视频的uri,取自系统uri,不然部分手机点击播放无反应的问题

## 1.0.5
 - 修复因为部分手机分辨不出闪光灯而造成闪退的问题.
 - 修复预览大图时，如果是同个图片，会引起右上角的索引一样的问题。
 - 修复拍摄界面预览大图时，增加可选删除的功能。
 - 修复低版本因为svg引起的闪退问题。

## 1.0.4
 - 修复7.0因为使用外部File引起的闪退问题。
 - 修复九宫格图片顺序出现的问题。
 - 修复音频临时文件用错后缀名mp4的问题。
 - 将所有提供外部接口的全部独立接口类，并且完善文档，相关可以回到首页看API相关信息！
 - 修改预览的时候视频不可删除等操作

## 1.0.3
 - 为了让commonlibrary和progresslibrary两者更好搭配，添加common包调和两者。
#### commonlibrary
 - 规范了路径配置，现在音频归音频文件，视频归视频文件，图片归图片文件。
#### progresslibrary
 - 当选中几张图片后，在九宫格点击预览图片之后，现在大图预览已经以点击为准。
 - 在预览大图图中，已经可以根据右上角的圆圈删除图片。
 - 音频文件路径修复不起效的bug。


